const Discord = require('discord.js');
const client = new Discord.Client();
var prefix = "-" ; /// Ø§Ù„Ø¨Ø±ÙÙƒØ³
const moment = require('moment');



client.on('ready', () => {
  console.log(`Logged in as ${client.user.tag}!`);
  console.log('')
  console.log('')
  console.log('â•”[â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•]â•—')
  console.log(`[Start] ${new Date()}`);
  console.log('â•š[â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•]â•')
  console.log('')
  console.log('â•”[â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•]â•—');
  console.log(`Logged in as * [ " ${client.user.username} " ]`);
  console.log('')
  console.log('Informations :')
  console.log('')
  console.log(`servers! [ " ${client.guilds.size} " ]`);
  console.log(`Users! [ " ${client.users.size} " ]`);
  console.log(`channels! [ " ${client.channels.size} " ]`);
  console.log('â•š[â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•]â•')
  console.log('')
  console.log('â•”[â•â•â•â•â•â•â•â•â•â•â•â•]â•—')
  console.log(' Bot Is Online')
  console.log('â•š[â•â•â•â•â•â•â•â•â•â•â•â•]â•')
  console.log('')
  console.log('')
});
 
 
 
 
////give away     -g
 
 
client.on('message',async message => {
  var time = moment().format('Do MMMM YYYY , hh:mm');
  var room;
  var title;
  var duration;
  var gMembers;
  var currentTime = new Date(),
hours = currentTime.getHours() + 3 ,
minutes = currentTime.getMinutes(),
done = currentTime.getMinutes() + duration / 60000 ,
seconds = currentTime.getSeconds();
if (minutes < 10) {
minutes = "0" + minutes;
}
var suffix = "AM";
if (hours >= 12) {
suffix = "PM";
hours = hours - 12;
}
if (hours == 0) {
hours = 12;
}
 
  var filter = m => m.author.id === message.author.id;
  if(message.content.startsWith(prefix + "g")) {
 
    if(!message.guild.member(message.author).hasPermission('MANAGE_GUILD')) return message.channel.send(':heavy_multiplication_x:| **ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ù„Ø¯ÙŠÙƒ Ø®Ø§ØµÙŠØ© Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø³ÙŠØ±ÙØ±**');
    message.channel.send(`:eight_pointed_black_star:| **Send Name channel For the Giveaway**`).then(msg => {
      message.channel.awaitMessages(filter, {
        max: 1,
        time: 20000,
        errors: ['time']
      }).then(collected => {
        let room = message.guild.channels.find('name' , collected.first().content);
        if(!room) return message.channel.send(':heavy_multiplication_x:| **i Found It :(**');
        room = collected.first().content;
        collected.first().delete();
        msg.edit(':eight_pointed_black_star:| **Time For The Giveaway**').then(msg => {
          message.channel.awaitMessages(filter, {
            max: 1,
            time: 20000,
            errors: ['time']
          }).then(collected => {
            if(isNaN(collected.first().content)) return message.channel.send(':heavy_multiplication_x:| **The Time Be Nambers `` Do the Commend Agin``**');
            duration = collected.first().content * 60000;
            collected.first().delete();
            msg.edit(':eight_pointed_black_star:| **Now send The Prize **').then(msg => {
              message.channel.awaitMessages(filter, {
                max: 1,
                time: 20000,
                errors: ['time']
              }).then(collected => {
                title = collected.first().content;
                collected.first().delete();
                msg.delete();
                message.delete();
                try {
                  let giveEmbed = new Discord.RichEmbed()
                  .setDescription(`**${title}** \nReact With ğŸ‰ To Enter! \nTime remaining : ${duration / 60000} **Minutes**\n **Created at :** ${hours}:${minutes}:${seconds} ${suffix}`)
                  .setFooter(message.author.username, message.author.avatarURL);
                  message.guild.channels.find("name" , room).send(' :heavy_check_mark: **Giveaway Created** :heavy_check_mark:' , {embed: giveEmbed}).then(m => {
                     let re = m.react('ğŸ‰');
                     setTimeout(() => {
                       let users = m.reactions.get("ğŸ‰").users;
                       let list = users.array().filter(u => u.id !== m.author.id !== client.user.id);
                       let gFilter = list[Math.floor(Math.random() * list.length) + 0]
                       let endEmbed = new Discord.RichEmbed()
                       .setAuthor(message.author.username, message.author.avatarURL)
                       .setTitle(title)
                       .addField('Giveaway Ended !ğŸ‰',`Winners : ${gFilter} \nEnded at :`)
                       .setTimestamp()
                     m.edit('** ğŸ‰ GIVEAWAY ENDED ğŸ‰**' , {embed: endEmbed});
                    message.guild.channels.find("name" , room).send(`**Congratulations ${gFilter}! You won The \`${title}\`**` , {embed: {}})
                     },duration);
                   });
                } catch(e) {
                message.channel.send(`:heavy_multiplication_x:| **i Don't Have Prem**`);
                  console.log(e);
                }
              });
            });
          });
        });
      });
    });
  }
});
 
      
        /// Rules
 
client.on('message', message => {
            if (message.content.startsWith("-rules")) {
     let embed = new Discord.RichEmbed()
.setThumbnail(message.author.avatarURL)
.addField('     **Ø§ÙˆÙ„Ø§** ' ,' **Ù…Ù…Ù†ÙˆØ¹ Ø§Ù„Ø³Ø¨** ')
.addField('     **Ø«Ø§Ù†ÙŠØ§** ' ,' **Ù…Ù…Ù†ÙˆØ¹ Ø§Ù„Ø§Ø³Ø¨Ø§Ù…** ')
.addField('     **Ø«Ø§Ù„Ø«Ø§** ' ,' **Ù„Ø§ ØªØ²Ø¹Ø¬ Ø§Ù„Ø§Ø®Ø±ÙŠÙ†** ')
.addField('    **Ø±Ø§Ø¨Ø¹Ø§**' ,' **Ù…Ù…Ù†ÙˆØ¹ Ø§Ù„Ø§Ø¹Ù„Ø§Ù†Ø§Øª** ')
.addField('    **Ø®Ø§Ù…Ø³Ø§**' ,' **Ø§Ø­ØªØ±Ù… Ø§Ù„Ø§Ø®Ø±ÙŠÙ†** ')
.addField('    **Ø³Ø§Ø¯Ø³Ø§**' ,' **Ù„Ø§ ØªÙ†Ø´Ø± ÙÙŠ Ø§Ù„Ø´Ø§Øª Ø§Ùˆ Ø¨Ù„ Ø®Ø§Øµ** ')
.addField('    **Ø³Ø§Ø¨Ø¹Ø§**' ,' **Ù„Ø§ ØªÙ†Ø´Ø± Ø±ÙˆØ§Ø¨Ø·!** ')
.addField('    **Ø«Ø§Ù…Ù†Ø§**' ,' **Ù„Ø§ ØªØ³ÙˆÙŠ Ø³Ø¨Ø§Ù… Ø§ÙŠÙ…ÙˆØ¬ÙŠ** ')
.addField('    **ØªØ§Ø³Ø¹Ø§**' ,' **Ù„Ø§ ØªØ·Ù„Ø¨ Ø±ØªØ¨Ù‡ Ø§Ù„Ø§Ø¯Ø§Ø±Ù‡ !** ')
.setColor('#7d2dbe')
  message.channel.sendEmbed(embed);
    }
});
 
/// -ping
 
 client.on('message', message => {
    if(!message.channel.guild) return;
if (message.content.startsWith('-ping')) {
if(!message.channel.guild) return;
var msg = `${Date.now() - message.createdTimestamp}`
var api = `${Math.round(client.ping)}`
if (message.author.bot) return;
let embed = new Discord.RichEmbed()
.setAuthor(message.author.username,message.author.avatarURL)
.setColor('RANDOM')
.addField('**Time Taken:**',msg + " ms ğŸ“¶ ")
.addField('**Discord API:**',api + " ms ğŸ“¶ ")
message.channel.send({embed:embed});
}
});
 
/// -server
 
client.on('message', function(msg) {
    if(msg.content.startsWith (prefix  + 'server')) {
      let embed = new Discord.RichEmbed()
      .setColor('RANDOM')
      .setThumbnail(msg.guild.iconURL)
      .setTitle(`Showing Details Of  **${msg.guild.name}*`)
      .addField('ğŸŒ** Ù†ÙˆØ¹ Ø§Ù„Ø³ÙŠØ±ÙØ±**',`[** __${msg.guild.region}__ **]`,true)
      .addField('ğŸ…** __Ø§Ù„Ø±ØªØ¨__**',`[** __${msg.guild.roles.size}__ **]`,true)
      .addField('ğŸ”´**__ Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ø¹Ø¶Ø§Ø¡__**',`[** __${msg.guild.memberCount}__ **]`,true)
      .addField('ğŸ”µ**__ Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ø§ÙˆÙ†Ù„Ø§ÙŠÙ†__**',`[** __${msg.guild.members.filter(m=>m.presence.status == 'online').size}__ **]`,true)
      .addField('ğŸ“**__ Ø§Ù„Ø±ÙˆÙ…Ø§Øª Ø§Ù„ÙƒØªØ§Ø¨ÙŠØ©__**',`[** __${msg.guild.channels.filter(m => m.type === 'text').size}__** ]`,true)
      .addField('ğŸ¤**__ Ø±ÙˆÙ…Ø§Øª Ø§Ù„ØµÙˆØª__**',`[** __${msg.guild.channels.filter(m => m.type === 'voice').size}__ **]`,true)
      .addField('ğŸ‘‘**__ Ø§Ù„Ø£ÙˆÙ†Ù€Ø±__**',`**${msg.guild.owner}**`,true)
      .addField('ğŸ†”**__ Ø§ÙŠØ¯ÙŠ Ø§Ù„Ø³ÙŠØ±ÙØ±__**',`**${msg.guild.id}**`,true)
      .addField('ğŸ“…**__ ØªÙ… Ø¹Ù…Ù„ Ø§Ù„Ø³ÙŠØ±ÙØ± ÙÙŠ__**',msg.guild.createdAt.toLocaleString())
      msg.channel.send({embed:embed});
    }
  });
 
  /// Ø±Ø§Ø¨Ø·
 
const coolDown = new Set();
client.on('message', message => {
 
      if (message.content.startsWith("Ø±Ø§Ø¨Ø·")) {
        if(coolDown.has(message.author.id)) return message.channel.send(`**:stopwatch: | ${message.author.username}, your invite :yen: link refreshes in \`\`1 Day\`\`.**`);
 
    message.channel.createInvite({
 
          thing: true,
 
          maxUses: 5,
 
          maxAge: 86400
 
      }).then(invite =>
 
        message.author.sendMessage(invite.url)
 
      )
 
    message.channel.send("**ØªÙ… Ø§Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø§Ø¨Ø· Ø¨Ø±Ø³Ø§Ù„Ø© Ø®Ø§ØµØ©**")   .then(() => {    
      coolDown.add(message.author.id);
  });
 
 
  message.author.send(`**Ù…Ø¯Ø© Ø§Ù„Ø±Ø§Ø¨Ø· : ÙŠÙ€ÙˆÙ…
  Ø¹Ø¯Ø¯ Ø§Ø³ØªØ®Ø¯Ø§Ù…Ø§Øª Ø§Ù„Ø±Ø§Ø¨Ø· : 5**`)
 
      }
 
      setTimeout(() => {
        coolDown.remove(message.author.id);
     },86400000);
     
  });
 
  ////Ø¨Ø§Ù† Ø§Ù„Ù†Ø´Ø±
  client.on('message', message => {
    if (message.content.includes('discord.gg')){
                        if(!message.channel.guild) return message.reply ('')
                    if (!message.member.hasPermissions(['MANAGE_MESSAGES'])){
       message.channel.send('ban <@' + message.author.id + '>')
       message.delete()
       }
    }
          if (message.content.startsWith("ban ")) {
             if(!message.member.hasPermission('ADMINISTRATOR')) return message.reply();
             var member= message.mentions.members.first();
             member.ban().then((member) => {
                 message.channel.sendMessage("", {embed: {
                 author: {
                 },
                 title: 'Ø¨Ø³Ø¨Ø¨ Ø§Ù„Ù†Ø´Ø± ' + member.displayName + ' ØªÙ… Ø­Ø¸Ø±',
                 color: 490101,
                 }
               });
           }
         )
       }
   });
   
   
   /////ØªÙˆÙŠØªØ´ Ø§Ù„Ø¨ÙˆØª

 
 
/// -clear    Ù…Ø³Ø­ Ø¨Ø¹Ø¯Ø¯
client.on('message', msg => {
  if (msg.author.bot) return;
  if (!msg.content.startsWith(prefix)) return;
  let command = msg.content.split(" ")[0];
  command = command.slice(prefix.length);
  let args = msg.content.split(" ").slice(1);
 
    if(command === "clear") {
        const emoji = client.emojis.find("name", "wastebasket")
    let textxt = args.slice(0).join("");
    if(msg.member.hasPermission("MANAGE_MESSAGES")) {
    if (textxt == "") {
        msg.delete().then
    msg.channel.send("***```Ø¶Ø¹ Ø¹Ø¯Ø¯ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØªÙŠ ØªØ±ÙŠØ¯ Ù…Ø³Ø­Ù‡Ø§ ğŸ‘Œ```***").then(m => m.delete(3000));
} else {
    msg.delete().then
    msg.delete().then
    msg.channel.bulkDelete(textxt);
        msg.channel.send("```php\nØ¹Ø¯Ø¯ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØªÙŠ ØªÙ… Ù…Ø³Ø­Ù‡Ø§: " + textxt + "\n```").then(m => m.delete(3000));
        }    
    }
}
});
 
 
client.on('message', async message => {
  let args = message.content.split(" ");
  if(message.content.startsWith(prefix + "mute")) {
    if(!message.member.hasPermission("MANAGE_ROLES")) return message.reply('`MANAGE_ROLES` :Ù„Ø§Ø²Ù… ÙŠÙƒÙˆÙ† Ù…Ø¹Ø§Ùƒ ØµÙ„Ø§Ø­ÙŠØ©').then(msg => {
      msg.delete(3500);
      message.delete(3500);
    });

    if(!message.guild.member(client.user).hasPermission("MANAGE_ROLES")) return message.reply('`MANAGE_ROLES` :Ù„Ø§Ø²Ù… Ø§Ù„Ø¨ÙˆØª ÙŠÙƒÙˆÙ† Ù…Ø¹Ø§Ù‡ ØµÙ„Ø§Ø­ÙŠØ©').then(msg => {
      msg.delete(3500);
      message.delete(3500);
    });

    let mention = message.mentions.members.first();
    if(!mention) return message.reply('**Ù…Ù†Ø´Ù† Ø¹Ø¶Ùˆ Ù„Ø¥Ø¹Ø·Ø§Ø¦Ø© Ù…ÙŠÙˆØª ÙƒØªØ§Ø¨ÙŠ**').then(msg => {
      msg.delete(3500);
      message.delete(3500);
    });

    if(mention.highestRole.position >= message.guild.member(message.author).highestRole.positon) return message.reply('**Ù„Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø¹Ø·Ø§Ø¡ Ù„Ù…ÙŠÙˆØª Ø´Ø®Øµ Ø±ØªØ¨ØªÙ‡ Ø§Ø¹Ù„Ù‰ Ù…Ù†Ùƒ**').then(msg => {
      msg.delete(3500);
      message.delete(3500);
    });
    if(mention.highestRole.positon >= message.guild.member(client.user).highestRole.positon) return message.reply('**Ù„Ø§ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ø§Ø¹Ø·Ø§Ø¡ Ù…ÙŠÙˆØª Ù„Ø´Ø®Øµ Ø±ØªØ¨ØªÙ‡ Ø§Ø¹Ù„Ù‰ Ù…Ù†ÙŠ**').then(msg => {
      msg.delete(3500);
      message.delete(3500);
    });
    if(mention.id === message.author.id) return message.reply('**Ù„Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø¹Ø·Ø§Ø¡ Ù…ÙŠÙˆØª  Ù„Ù†ÙØ³Ùƒ**').then(msg => {
      msg.delete(3500);
      message.delete(3500);
    });

    let duration = args[2];
    if(!duration) return message.reply('**Ø­Ø¯Ø¯ ÙˆÙ‚Øª Ø²Ù…Ù†ÙŠ Ù„ÙÙƒ Ø§Ù„Ù…ÙŠÙˆØª Ø¹Ù† Ø§Ù„Ø´Ø®Øµ**').then(msg => {
      msg.delete(3500);
      message.delete(3500);
    });

    if(isNaN(duration)) return message.reply('**Ø­Ø¯Ø¯ ÙˆÙ‚Øª Ø²Ù…Ù†ÙŠ ØµØ­ÙŠØ­**').then(msg => {
      msg.delete(3500);
      message.delete(3500);
    });

    let reason = message.content.split(" ").slice(3).join(" ");
    if(!reason) reason = "Ù„Ù… ÙŠØªÙ… ÙˆØ¶Ø¹ Ø§ÙŠ Ø³Ø¨Ø¨";

    let thisEmbed = new Discord.RichEmbed()
    .setAuthor(mention.user.username, mention.user.avatarURL)
    .setTitle('ØªÙ… Ø§Ø¹Ø·Ø§Ø¦Ùƒ Ù…ÙŠÙˆØª')
    .setThumbnail(mention.user.avatarURL)
    .addField(':Ø§Ù„Ø³ÙŠØ±ÙØ±Ù',message.guild.name,true)
    .addField(':ØªÙ… Ø¥Ø¹Ø·Ø§Ø¦Ùƒ Ù…ÙŠÙˆØª Ø¨ÙˆØ§Ø³Ø·Ø©',message.author,true)
    .addField(':Ø§Ù„Ø³Ø¨Ø¨',reason)

    let role = message.guild.roles.find('name', 'Muted') || message.guild.roles.get(r => r.name === 'Muted');
    if(!role) try {
      message.guild.createRole({
        name: "Muted",
        permissions: 0
      }).then(r => {
        message.guild.channels.forEach(c => {
          c.overwritePermissions(r , {
            SEND_MESSAGES: false,
            READ_MESSAGES_HISTORY: false,
            ADD_REACTIONS: false
          });
        });
      });
    } catch(e) {
      console.log(e.stack);
    }
    mention.addRole(role).then(() => {
      mention.send(thisEmbed);
      message.channel.send(`**:white_check_mark: ${mention.user.username} muted in the server ! :zipper_mouth:  **  `);
      mention.setMute(true);
    });
    setTimeout(() => {
      if(duration === 0) return;
      if(!mention.has.roles(role)) return;
      mention.setMute(false);
      mention.removeRole(role);
      message.channel.send(`**:white_check_mark: ${mention.user.username} unmuted in the server ! :neutral_face:  **  `);
    },duration * 60000);
  } else if(message.content.startsWith(prefix + "unmute")) {
    let mention = message.mentions.members.first();
    let role = message.guild.roles.find('name', 'Muted') || message.guild.roles.get(r => r.name === 'Muted');
    if(!message.member.hasPermission("MANAGE_ROLES")) return message.reply('`MANAGE_ROLES` :Ù„Ø§Ø²Ù… ÙŠÙƒÙˆÙ† Ù…Ø¹Ø§Ùƒ ØµÙ„Ø§Ø­ÙŠØ©').then(msg => {
      msg.delete(3500);
      message.delete(3500);
    });

    if(!message.guild.member(client.user).hasPermission("MANAGE_ROLES")) return message.reply('`MANAGE_ROLES` :Ù„Ø§Ø²Ù… Ø§Ù„Ø¨ÙˆØª ÙŠÙƒÙˆÙ† Ù…Ø¹Ø§Ù‡ ØµÙ„Ø§Ø­ÙŠØ©').then(msg => {
      msg.delete(3500);
      message.delete(3500);
    });

    if(!mention) return message.reply('**Ù…Ù†Ø´Ù† Ø§Ù„Ø´Ø®Øµ Ù„ÙÙƒ Ø§Ù„Ù…ÙŠÙˆØª Ø¹Ù†Ù‡**').then(msg => {
      msg.delete(3500);
      message.delete(3500);
    });

      mention.removeRole(role);
      mention.setMute(false);
      message.channel.send(`**:white_check_mark: ${mention.user.username} unmuted in the server ! :neutral_face:  **  `);
  }
});


client.on('message', async message => {
    let args = message.content.split(" ");
    let command = args[0];

    if(command === prefix + 'ban') {
      if(!message.member.hasPermission("BAN_MEMBERS")) return message.reply('`BAN_MEMBERS').then(msg => {
        msg.delete(3500);
        message.delete(3500);
      });

      if(!message.guild.member(client.user).hasPermission("BAN_MEMBERS")) return message.reply('`BAN_MEMBERS` :Ù„Ø§Ø²Ù… Ø§Ù„Ø¨ÙˆØª ÙŠÙƒÙˆÙ† Ù…Ø¹Ø§Ù‡ ØµÙ„Ø§Ø­ÙŠØ©').then(msg => {
        msg.delete(3500);
        message.delete(3500);
      });

      let mention = message.mentions.members.first();
      if(!mention) return message.reply('**Ù…Ù†Ø´Ù† Ø¹Ø¶Ùˆ Ù„Ø­Ø¶Ø±Ù‡**').then(msg => {
        msg.delete(3500);
        message.delete(3500);
      });
      if(mention.highestRole.position >= message.guild.member(message.author).highestRole.positon) return message.reply('**Ù„Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø·Ø±Ø¯ Ø´Ø®Øµ Ø±ØªØ¨ØªÙ‡ Ø§Ø¹Ù„Ù‰ Ù…Ù†Ùƒ**').then(msg => {
        msg.delete(3500);
        message.delete(3500);
      });
      if(mention.highestRole.positon >= message.guild.member(client.user).highestRole.positon) return message.reply('**Ù„Ø§ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ø·Ø±Ø¯ Ø´Ø®Øµ Ø±ØªØ¨ØªÙ‡ Ø§Ø¹Ù„Ù‰ Ù…Ù†ÙŠ**').then(msg => {
        msg.delete(3500);
        message.delete(3500);
      });
      if(mention.id === message.author.id) return message.reply('**Ù„Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø­Ø¶Ø± Ù†ÙØ³Ùƒ**').then(msg => {
        msg.delete(3500);
        message.delete(3500);
      });

       let duration = args[2];
       if(!duration) return message.reply('**Ø­Ø¯Ø¯ ÙˆÙ‚Øª Ø²Ù…Ù†ÙŠ Ù„Ø¥Ø¹Ø·Ø§Ø¡ Ø§Ù„Ø´Ø®Øµ Ø§Ù„Ø­Ø¶Ø±**').then(msg => {
         msg.delete(3500);
         message.delete(3500);
       });
       if(isNaN(duration)) return message.reply('**Ø­Ø¯Ø¯ ÙˆÙ‚Øª Ø²Ù…Ù†ÙŠ ØµØ­ÙŠØ­**').then(msg => {
         msg.delete(3500);
         message.delete(3500);
       });

       let reason = message.content.split(" ").slice(3).join(" ");
       if(!reason) reason = 'Ù„Ù… ÙŠØªÙ… ÙˆØ¶Ø¹ Ø§ÙŠ Ø³Ø¨Ø¨';

       let thisEmbed = new Discord.RichEmbed()
       .setAuthor(mention.user.username , mention.user.avatarURL)
       .setTitle('Ù„Ù‚Ø¯ ØªÙ… Ø­Ø¶Ø±Ùƒ')
       .setThumbnail(mention.avatarURL)
       .addField(':Ø§Ù„Ø³ÙŠØ±ÙØ±',message.guild.name,true)
       .addField(':ØªÙ… Ø¥Ø¹Ø·Ø§Ø¦Ùƒ Ø­Ø¶Ø± Ø¨ÙˆØ§Ø³Ø·Ø©',message.author,true)
       .addField(':Ø§Ù„Ø³Ø¨Ø¨',reason)
       .setFooter(message.author.tag,message.author.avatarURL);
       mention.send(thisEmbed).then(() => {
       mention.ban({
         reason: reason,
       });
       message.channel.send(`User: ***( ${mention.user.username} )*** banned from the server ! :airplane: **  `)
       setTimeout(() => {
         if(duration === 0) return;
         message.guild.unban(mention);
       },duration * 60000);
     });
   }
});







client.on('message', message => {
  if (message.author.x5bz) return;
  if (!message.content.startsWith(prefix)) return;
 
  let command = message.content.split(" ")[0];
  command = command.slice(prefix.length);
 
  let args = message.content.split(" ").slice(1);
 
  if (command == "kick") {
               if(!message.channel.guild) return message.reply('** This command only for servers**');
         
  if(!message.guild.member(message.author).hasPermission("KICK_MEMBERS")) return message.reply("**You Don't Have ` KICK_MEMBERS ` Permission**");
  if(!message.guild.member(client.user).hasPermission("KICK_MEMBERS")) return message.reply("**I Don't Have ` KICK_MEMBERS ` Permission**");
  let user = message.mentions.users.first();
  let reason = message.content.split(" ").slice(2).join(" ");
  if (message.mentions.users.size < 1) return message.channel.sendFile("**https://cdn.discordapp.com/attachments/498625534549295114/498825358682882059/kick_metion.png**");
  if(!reason) return message.channel.sendFile("**https://cdn.discordapp.com/attachments/498625534549295114/498825956983701514/kick_reson.png**");
  if (!message.guild.member(user)
  .kickable) return message.reply("**This User Is Have High Role**");
 
  message.guild.member(user).kick();
 
  const kickembed = new Discord.RichEmbed()
  .setAuthor(`KICKED!`, user.displayAvatarURL)
  .setColor("RANDOM")
  .setTimestamp()
  .addField("**User:**",  '**[ ' + `${user.tag}` + ' ]**')
  .addField("**By:**", '**[ ' + `${message.author.tag}` + ' ]**')
  .addField("**Reason:**", '**[ ' + `${reason}` + ' ]**')
  message.channel.send({
    embed : kickembed
  })
}
});
 

 
 
////ÙØªØ­ ÙˆÙ‚ÙÙ„ Ø§Ù„Ø±Ø³Ø§Ù„Ù‡    ///-new    -close
 
/// -new
client.on('message', message => {
    if(message.content.startsWith(prefix + 'new')) {
        let args = message.content.split(' ').slice(1).join(' ');
        let support = message.guild.roles.find("name","support");
        let ticketsStation = message.guild.channels.find("name", "TICKETS");
        if(!args) {
            return message.channel.send('Ø§ÙƒØªØ¨ ÙˆØ´ Ù…ÙˆØ¶ÙˆØ¹ Ø§Ù„ØªÙƒØª');
        };
                if(!support) {
                    return message.channel.send('**Ù„ÙƒÙŠ ÙŠÙ…ÙƒÙ†Ù‡Ù… ÙØªØ­ Ø§Ù„ØªÙƒØª `support` ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ ØµÙ†Ø¹ Ø±ØªØ¨Ø©**');
                };
            if(!ticketsStation) {
                message.guild.createChannel("TICKETS", "category");
            };
                message.guild.createChannel(`ticket-${message.author.username}`, "text").then(ticket => {
                    message.delete()
                        message.channel.send(`[ ${ticket} ] ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø±ÙˆÙ… Ø®Ø§Øµ Ø¨Ùƒ`);
                    ticket.setParent(ticketsStation);
                    ticketsStation.setPosition(1);
                        ticket.overwritePermissions(message.guild.id, {
                            SEND_MESSAGES: false,
                            READ_MESSAGES: false
                        });
                            ticket.overwritePermissions(support.id, {
                                SEND_MESSAGES: true,
                                READ_MESSAGES: true
                            });
                                ticket.overwritePermissions(message.author.id, {
                                    SEND_MESSAGES: true,
                                    READ_MESSAGES: true
                                });
                    let embed = new Discord.RichEmbed()
                                .setTitle('**ØªÙƒØª Ø¬Ø¯ÙŠØ¯**')
                                .setColor("RANDOM")
                                .setThumbnail(`${message.author.avatarURL}`)
                                .addField('Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹', args)
                                .addField('Ø§Ù„Ø´Ø®Øµ Ø§Ù„ÙŠ ÙØªØ­ Ø§Ù„ØªÙƒØª', message.author)
                                .addField('ØªÙ… ÙØªØ­ Ø§Ù„ØªÙƒØª ÙÙŠ Ø±ÙˆÙ…l', `<#${message.channel.id}>`);
 
                                ticket.sendEmbed(embed);
                }) .catch();
    }
    if(message.content.startsWith(prefix + 'close')) {
            if(!message.member.hasPermission("MANAGE_MESSAGE")) return;
        if(!message.channel.name.startsWith("ticket")) {
            return;
        };  
                let embed = new Discord.RichEmbed()
                    .setAuthor("Ø§ÙƒØªØ¨ Ø§Ù„Ø£Ù…Ø± Ù…Ø±Ù‡ Ø«Ø§Ù†ÙŠÙ‡ Ø¹Ù„Ø´Ø§Ù† ØªØ³ÙƒØ± Ø§Ù„Ø±ÙˆÙ…. Ù…Ø¹Ø§Ùƒ 20 Ø«Ø§Ù†ÙŠØ©")
                    .setColor("RANDOM");
                    message.channel.sendEmbed(embed) .then(codes => {
 
                   
                        const filter = msg => msg.content.startsWith(prefix + 'close');
                        message.channel.awaitMessages(response => response.content === prefix + 'close', {
                            max: 1,
                            time: 20000,
                            errors: ['time']
                        })
                        .then((collect) => {
                            message.channel.delete();
                        }) .catch(() => {
                            codes.delete()
                                .then(message.channel.send('**ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø­Ø°Ù Ø§Ù„Ø±ÙˆÙ…**')) .then((c) => {
                                    c.delete(4000);
                                })
                                   
                           
                        })
 
 
                    })
 
 
           
    }
});
 
 
 
/////-help
 
client.on('message', message => {
    if (message.author.bot) return;
     if (message.content === prefix + "help") {
      
     message.channel.send('**ØªÙ… Ø§Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ø© ÙÙŠ Ø§Ù„Ø®Ø§Øµ**');
     
 
 message.author.sendMessage(`
 **
Ù…Ø¨Ø±Ù…Ø¬ Ø§Ù„Ø¨ÙˆØª  | Developers
[ <@512625982751113216> ]
[â–â•â•â•â•â• General Commands â•â•â•â•â•â•â•â–]
ğŸ’ -help ã€ Ø¹Ø±Ø¶ Ù‚Ø§Ø¦Ù…Ù‡ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ù‡ ã€                      
ğŸ’ -rules ã€ Ø§Ù„Ù‚ÙˆØ§Ù†ÙŠÙ† ã€  
ğŸ’ -Ping ã€ Ù„Ù…Ø¹Ø±ÙÙ‡ Ø³Ø±Ø¹Ù‡ Ø§Ù„Ø¨ÙˆØª ã€
ğŸ’ -Server ã€ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù† Ø§Ù„Ø³ÙŠØ±ÙØ± ã€
ğŸ’ -members ã€Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù† Ø§Ù„Ø§Ø¹Ø¶Ø§Ø¡ ã€
ğŸ’ -Link    ã€Ø±Ø§Ø¨Ø· Ø§Ù„Ø³ÙŠØ±ÙØ±ã€
ğŸ’ -count 
[â–â•â•â•â•â• Administrator Commands â•â•â•â•â•â•â•â–]
ğŸ‘‘ -bans ã€ ÙŠÙ‚ÙˆÙ„Ùƒ Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ø´Ø®Ø§Øµ Ø§Ù„Ù…Ø¨Ù†Ø¯ÙŠÙ† Ù…Ù† Ø§Ù„Ø³ÙŠØ±ÙØ± ã€
ğŸ‘‘ -ban ã€ ØªØ¨Ù†ÙŠØ¯ Ø¹Ø¶Ùˆ Ù…Ù† Ø§Ù„Ø³ÙŠØ±ÙØ± ã€
ğŸ‘‘ -kick ã€ Ø·Ø±Ø¯ Ø¹Ø¶Ùˆ Ù…Ù† Ø§Ù„Ø³ÙŠØ±ÙØ± ã€
ğŸ‘‘ -clear ã€ Ù„Ù…Ø³Ø­ Ø§Ù„Ø´Ø§Øª ã€
ğŸ‘‘ -mute  ã€ Ø§Ø¹Ø·Ø§Ø¡ Ù…ÙŠÙˆØª ÙƒØªØ§Ø¨ÙŠ ã€
ğŸ‘‘ !unmute  ã€ ÙÙƒ Ø§Ù„Ù…ÙŠÙˆØª Ø§Ù„ÙƒØªØ§Ø¨ÙŠ ã€
ğŸ‘‘ -bc  ã€ Ø¨Ø±ÙˆØ¯ÙƒØ§Ø³Øª  ã€
ğŸ‘‘ -obc  ã€ Ø¨Ø±ÙˆØ¯ÙƒØ§Ø³Øª  ã€
ğŸ‘‘ -Close  ã€ Ø¥Ù‚ÙØ§Ù„ Ø§Ù„ØªØ°ÙƒØ±Ù‡ ã€
ğŸ‘‘ -g  ã€ Ø¥Ù†Ø´Ø§Ø¡ Ù‚ÙŠÙ Ø£ÙˆÙŠ Ø§Ùˆ Ù…Ø³Ø§Ø¨Ù‚Ù‡ ã€
ğŸ‘‘ -Hide  ã€ Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø±ÙˆÙ… ã€
ğŸ‘‘ -Show  ã€ Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø±ÙˆÙ… ã€
ğŸ‘‘ -say ã€ Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„Ù‡ Ø¨ÙˆØ§Ø³Ø·Ù‡ Ø§Ù„Ø¨ÙˆØª ã€
ğŸ‘‘ -Rainbow ã€ Ø§Ù†Ø´Ø§Ø¡ Ø±ØªØ¨Ù‡ Ø±ÙŠÙ†Ø¨Ùˆ ã€
ğŸ‘‘ -roleremove    ã€ Ù„Ù…Ø³Ø­ Ø§Ù„Ø±ÙˆÙ„ Ù…Ù† Ø´Ø®Øµ ã€
ğŸ‘‘ -role all   ã€Ù„Ø§Ø¹Ø·Ø§Ø¡ Ø§Ù„ÙƒÙ„ Ø±ØªØ¨Ù‡  ã€
ğŸ‘‘ -role bots  ã€  Ù„Ø§Ø¹Ø·Ø§Ø¡ Ø§Ù„Ø¨ÙˆØªØ§Øª Ø±ØªØ¨Ù‡ã€
ğŸ‘‘ -role humans   ã€  Ù„Ø§Ø¹Ø·Ø§Ø¡ Ø§Ù„Ø§Ø¹Ø¶Ø§Ø¡ Ù„Ø§ØªØ¨Ù‡ã€
ğŸ‘‘ -move
[â–â•â•â•â•â• Owner Commands â•â•â•â•â•â•â•â–]
â™¥ -setname  ã€Ù„ØªØºÙŠÙŠØ± Ø§Ø³Ù… Ø§Ù„Ø¨ÙˆØªã€
â™¥ -setgame   ã€  Ù„ØªØºÙŠÙŠØ± Ø¨Ù„Ø§ÙŠÙ†Ø¬ Ø§Ù„Ø¨ÙˆØªã€
â™¥ -setavatar  ã€ Ù„ØªØºÙŠÙŠØ± ØµÙˆØ±Ù‡ Ø§Ù„Ø¨ÙˆØª ã€
â™¥ -setT    ã€ Ù„ØªØºÙŠÙŠØ± ØªÙˆÙŠØªØ´ Ø§Ù„Ø¨ÙˆØª ã€
[â–â•â•â•â•â• News â•â•â•â•â•â•â•â–]
-autoc  Ù„Ø§Ø®Ø¯ Ø±ØªØ¨Ù‡ Ø¨Ø§Ù„Ø±ÙŠØ¦ÙƒØ´Ù†
Ø§Ø¶Ø§ÙÙ‡ Ù…Ø§Ù†Ø¹ Ø§Ù„ØªÙ‡ÙƒÙŠØ±
Ø§Ø¶Ø§ÙÙ‡ Ù…Ø§Ù†Ø¹ Ø§Ù„Ø¨ÙˆØªØ§Øª Ø¨Ù…Ø¹Ù†ÙŠ Ø§ÙŠ Ø¨ÙˆØª ÙŠØ®Ø´ Ø³ÙŠØ±ÙØ±Ùƒ Ø§Ø®Ø¯ Ø¨Ø§Ù† ØªÙ„Ù‚Ø§Ø¦ÙŠ
**`);
 
    }
});
 
 
/// -bc
 
var prefix = "-";
 
client.on("message", message => {
 
            if (message.content.startsWith(prefix + "bc")) {
                         if (!message.member.hasPermission("ADMINISTRATOR"))  return;
  let args = message.content.split(" ").slice(1);
  var argresult = args.join(' ');
  message.guild.members.filter(m => m.presence.status !== 'offline').forEach(m => {
 m.send(`${argresult}\n ${m}`);
})
 message.channel.send(`\`${message.guild.members.filter(m => m.presence.status !== 'online').size}\` : Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ù…Ø³ØªÙ„Ù…ÙŠÙ†`);
 message.delete();
};    
});
 
////-obc
 
client.on('message',async message => {
  if(message.channel.type === 'dm') return;
  if(message.author.bot) return;
  let args = message.content.split(' ');
  if(args[0] === `${prefix}obc`) {
  if(!message.member.hasPermission("MANAGE_GUILD")) return message.channel.send('- **Ø£Ù†Øª Ù„Ø§ ØªÙ…Ù„Ùƒ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù„Ø§Ø²Ù…Ø© Ù„Ø£Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø±**');
  if(!args[1]) return message.channel.send('- **ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø¨Ø¹Ø¯ Ø§Ù„Ø£Ù…Ø±**');
 
  let msgCount = 0;
  let errorCount = 0;
  let successCount = 0;
    let status;
    if(msgCount === message.guild.memberCount) {
        status = 'Sent';
    } else if(msgCount !== message.guild.memberCount) {
        status = 'Sending';
    }
  message.channel.send(`**- [ ğŸ”– :: ${msgCount} ] ãƒ»Ø¹Ø¯Ø¯ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…Ø±Ø³Ù„Ø©**\n**- [ ğŸ“¥ :: ${successCount} ] ãƒ»Ø¹Ø¯Ø¯ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…Ø³ØªÙ„Ù…Ø©**\n**- [ ğŸ“¤ :: ${errorCount} ]ãƒ»Ø¹Ø¯Ø¯ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØºÙŠØ± Ù…Ø³ØªÙ„Ù…Ø©\n- [ â–« :: ${status} ]ãƒ»Ø­Ø§Ù„Ø© Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…Ø±Ø³Ù„Ø©**`).then(msg => {
    message.guild.members.forEach(g => {
      g.send(args.slice(1).join(' ')).then(() => {
        successCount++;
        msgCount++;
                if(!msg) return;
        msg.edit(`**- [ ğŸ”– :: ${msgCount} ] ãƒ»Ø¹Ø¯Ø¯ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…Ø±Ø³Ù„Ø©**\n**- [ ğŸ“¥ :: ${successCount} ] ãƒ»Ø¹Ø¯Ø¯ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…Ø³ØªÙ„Ù…Ø©**\n**- [ ğŸ“¤ :: ${errorCount} ]ãƒ»Ø¹Ø¯Ø¯ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØºÙŠØ± Ù…Ø³ØªÙ„Ù…Ø©\n- [ â–« :: ${status} ]ãƒ»Ø­Ø§Ù„Ø© Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…Ø±Ø³Ù„**`);
      }).catch(e => {
        errorCount++;
        msgCount++;
                if(!msg) return;
        msg.edit(`**- [ ğŸ”– :: ${msgCount} ] ãƒ»Ø¹Ø¯Ø¯ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…Ø±Ø³Ù„Ø©**\n**- [ ğŸ“¥ :: ${successCount} ] ãƒ»Ø¹Ø¯Ø¯ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…Ø³ØªÙ„Ù…Ø©**\n**- [ ğŸ“¤ :: ${errorCount} ]ãƒ»Ø¹Ø¯Ø¯ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØºÙŠØ± Ù…Ø³ØªÙ„Ù…Ø©\n- [ â–« :: ${status} ]ãƒ»Ø­Ø§Ù„Ø© Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…Ø±Ø³Ù„**`);
      });
    });
  });
}
});
 
////// -Link
 
  client.on('message', message => {
    if (message.content.startsWith("-Link")) {
 
  message.channel.createInvite({
        thing: true,
        maxUses: 10,
        maxAge: 86400
    }).then(invite =>
      message.author.sendMessage(invite.url)
    )
  message.channel.send("**ØªÙ… Ø§Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø§Ø¨Ø· Ø¨Ø±Ø³Ø§Ù„Ø© Ø®Ø§ØµØ©**")
 
message.author.send(`**Ù…Ø¯Ø© Ø§Ù„Ø±Ø§Ø¨Ø· : ÙŠÙ€ÙˆÙ…
Ø¹Ø¯Ø¯ Ø§Ø³ØªØ®Ø¯Ø§Ù…Ø§Øª Ø§Ù„Ø±Ø§Ø¨Ø· : 2**`)
 
 
    }
});
 
///role
 
client.on("message", message => {
    var args = message.content.split(' ').slice(1);
    var msg = message.content.toLowerCase();
    if( !message.guild ) return;
    if( !msg.startsWith( prefix + 'role' ) ) return;
    if( msg.toLowerCase().startsWith( prefix + 'roleremove' ) ){
        if( !args[0] ) return message.reply( '**:x: ÙŠØ±Ø¬Ù‰ ÙˆØ¶Ø¹ Ø§Ù„Ø´Ø®Øµ Ø§Ù„Ù…Ø±Ø§Ø¯ Ø³Ø­Ø¨ Ù…Ù†Ù‡ Ø§Ù„Ø±ØªØ¨Ø©**' );
        if( !args[1] ) return message.reply( '**:x: ÙŠØ±Ø¬Ù‰ ÙˆØ¶Ø¹ Ø§Ù„Ø±ØªØ¨Ø© Ø§Ù„Ù…Ø±Ø§Ø¯ Ø³Ø­Ø¨Ù‡Ø§ Ù…Ù† Ø§Ù„Ø´Ø®Øµ**' );
        var role = msg.split(' ').slice(2).join(" ").toLowerCase();
        var role1 = message.guild.roles.filter( r=>r.name.toLowerCase().indexOf(role)>-1 ).first();
        if( !role1 ) return message.reply( '**:x: ÙŠØ±Ø¬Ù‰ ÙˆØ¶Ø¹ Ø§Ù„Ø±ØªØ¨Ø© Ø§Ù„Ù…Ø±Ø§Ø¯ Ø³Ø­Ø¨Ù‡Ø§ Ù…Ù† Ø§Ù„Ø´Ø®Øµ**' );if( message.mentions.members.first() ){
            message.mentions.members.first().removeRole( role1 );
            return message.reply('**:white_check_mark: [ '+role1.name+' ] Ø±ØªØ¨Ø© [ '+args[0]+' ] ØªÙ… Ø³Ø­Ø¨ Ù…Ù† **');
        }
        if( args[0].toLowerCase() == "all" ){
            message.guild.members.forEach(m=>m.removeRole( role1 ))
            return  message.reply('**:white_check_mark: [ '+role1.name+' ] ØªÙ… Ø³Ø­Ø¨ Ù…Ù† Ø§Ù„ÙƒÙ„ Ø±ØªØ¨Ø©**');
        } else if( args[0].toLowerCase() == "bots" ){
            message.guild.members.filter(m=>m.user.bot).forEach(m=>m.removeRole(role1))
            return  message.reply('**:white_check_mark: [ '+role1.name+' ] ØªÙ… Ø³Ø­Ø¨ Ù…Ù† Ø§Ù„Ø¨ÙˆØªØ§Øª Ø±ØªØ¨Ø©**');
        } else if( args[0].toLowerCase() == "humans" ){
            message.guild.members.filter(m=>!m.user.bot).forEach(m=>m.removeRole(role1))
            return  message.reply('**:white_check_mark: [ '+role1.name+' ] ØªÙ… Ø³Ø­Ø¨ Ù…Ù† Ø§Ù„Ø¨Ø´Ø±ÙŠÙŠÙ† Ø±ØªØ¨Ø©**');
        }  
    } else {
        if( !args[0] ) return message.reply( '**:x: ÙŠØ±Ø¬Ù‰ ÙˆØ¶Ø¹ Ø§Ù„Ø´Ø®Øµ Ø§Ù„Ù…Ø±Ø§Ø¯ Ø§Ø¹Ø·Ø§Ø¦Ù‡Ø§ Ø§Ù„Ø±ØªØ¨Ø©**' );
        if( !args[1] ) return message.reply( '**:x: ÙŠØ±Ø¬Ù‰ ÙˆØ¶Ø¹ Ø§Ù„Ø±ØªØ¨Ø© Ø§Ù„Ù…Ø±Ø§Ø¯ Ø§Ø¹Ø·Ø§Ø¦Ù‡Ø§ Ù„Ù„Ø´Ø®Øµ**' );
        var role = msg.split(' ').slice(2).join(" ").toLowerCase();
        var role1 = message.guild.roles.filter( r=>r.name.toLowerCase().indexOf(role)>-1 ).first();
        if( !role1 ) return message.reply( '**:x: ÙŠØ±Ø¬Ù‰ ÙˆØ¶Ø¹ Ø§Ù„Ø±ØªØ¨Ø© Ø§Ù„Ù…Ø±Ø§Ø¯ Ø§Ø¹Ø·Ø§Ø¦Ù‡Ø§ Ù„Ù„Ø´Ø®Øµ**' );if( message.mentions.members.first() ){
            message.mentions.members.first().addRole( role1 );
            return message.reply('**:white_check_mark: [ '+role1.name+' ] Ø±ØªØ¨Ø© [ '+args[0]+' ] ØªÙ… Ø§Ø¹Ø·Ø§Ø¡ **');
        }
        if( args[0].toLowerCase() == "all" ){
            message.guild.members.forEach(m=>m.addRole( role1 ))
            return  message.reply('**:white_check_mark: [ '+role1.name+' ] ØªÙ… Ø§Ø¹Ø·Ø§Ø¡ Ø§Ù„ÙƒÙ„ Ø±ØªØ¨Ø©**');
        } else if( args[0].toLowerCase() == "bots" ){
            message.guild.members.filter(m=>m.user.bot).forEach(m=>m.addRole(role1))
            return  message.reply('**:white_check_mark: [ '+role1.name+' ] ØªÙ… Ø§Ø¹Ø·Ø§Ø¡ Ø§Ù„Ø¨ÙˆØªØ§Øª Ø±ØªØ¨Ø©**');
        } else if( args[0].toLowerCase() == "humans" ){
            message.guild.members.filter(m=>!m.user.bot).forEach(m=>m.addRole(role1))
            return  message.reply('**:white_check_mark: [ '+role1.name+' ] ØªÙ… Ø§Ø¹Ø·Ø§Ø¡ Ø§Ù„Ø¨Ø´Ø±ÙŠÙŠÙ† Ø±ØªØ¨Ø©**');
        }
    }
});
 
//-move
 
client.on('message', message => {
if(!message.channel.guild) return;
if(message.content.startsWith(prefix + 'move')) {
 if (message.member.hasPermission("MOVE_MEMBERS")) {
 if (message.mentions.users.size === 0) {
 return message.channel.send("``Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£Ù…Ø± Ø§ÙƒØªØ¨ Ù‡Ø°Ù‡ Ø§Ù„Ø£Ù…Ø± : " +prefix+ "move [USER]``")
}
if (message.member.voiceChannel != null) {
 if (message.mentions.members.first().voiceChannel != null) {
 var authorchannel = message.member.voiceChannelID;
 var usermentioned = message.mentions.members.first().id;
var embed = new Discord.RichEmbed()
 .setTitle("Succes!")
 .setColor("#000000")
 .setDescription(`Ù„Ù‚Ø¯ Ù‚Ù…Øª Ø¨Ø³Ø­Ø¨ <@${usermentioned}> Ø§Ù„Ù‰ Ø§Ù„Ø±ÙˆÙ… Ø§Ù„ØµÙˆØªÙŠ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒâœ… `)
var embed = new Discord.RichEmbed()
.setTitle(`You are Moved in ${message.guild.name}`)
 .setColor("RANDOM")
.setDescription(`**<@${message.author.id}> Moved You To His Channel!\nServer --> ${message.guild.name}**`)
 message.guild.members.get(usermentioned).setVoiceChannel(authorchannel).then(m => message.channel.send(embed))
message.guild.members.get(usermentioned).send(embed)
} else {
message.channel.send("``Ù„Ø§ ØªØ³ØªØ·ÙŠØ¹ Ø³Ø­Ø¨ "+ message.mentions.members.first() +" `ÙŠØ¬Ø¨ Ø§Ù† ÙŠÙƒÙˆÙ† Ù‡Ø°Ù‡ Ø§Ù„Ø¹Ø¶Ùˆ ÙÙŠ Ø±ÙˆÙ… ØµÙˆØªÙŠ`")
}
} else {
 message.channel.send("**``ÙŠØ¬Ø¨ Ø§Ù† ØªÙƒÙˆÙ† ÙÙŠ Ø±ÙˆÙ… ØµÙˆØªÙŠ Ù„ÙƒÙŠ ØªÙ‚ÙˆÙ… Ø¨Ø³Ø­Ø¨ Ø§Ù„Ø¹Ø¶Ùˆ Ø£Ù„ÙŠÙƒ``**")
}
} else {
message.react("âŒ")
}
 }
});
 
/// -bans
 
client.on('message', message => {
    if (message.content.startsWith("-bans")) {
        message.guild.fetchBans()
        .then(bans => message.channel.send(`${bans.size} Ø¹Ø¯Ø¯ Ø§Ø´Ø®Ø§Øµ Ø§Ù„Ù…Ø¨Ù†Ø¯Ø© Ù…Ù† Ø§Ù„Ø³ÙŠØ±ÙØ± `))
  .catch(console.error);
}
});
 
/// -count
 
 client.on('message', message => {
              if (!message.channel.guild) return;
      if(message.content =='-count')
      var IzRo = new Discord.RichEmbed()
      .setThumbnail(message.author.avatarURL)
      .setFooter(message.author.username, message.author.avatarURL)
      .setTitle(':tulip:| Members info')
      .addBlankField(true)
      .addField('Ø¹Ø¯Ø¯ Ø§Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ø³ÙŠØ±ÙØ±',`${message.guild.memberCount}`)
      message.channel.send(IzRo);
    });
   
    /// -hide
 
client.on('message', message => {
        if(message.content === prefix + "hide") {
        if(!message.channel.guild) return;
        if(!message.member.hasPermission('ADMINISTRATOR')) return message.reply('You Dont Have Perms âŒ');
               message.channel.overwritePermissions(message.guild.id, {
               READ_MESSAGES: false
   })
                message.channel.send('Channel Hided Successfully ! âœ…  ')
   }
  });
 
/// -show
 
client.on('message', message => {
        if(message.content === prefix + "show") {
        if(!message.channel.guild) return;
        if(!message.member.hasPermission('ADMINISTRATOR')) return message.reply('âŒ');
               message.channel.overwritePermissions(message.guild.id, {
               READ_MESSAGES: true
   })
                message.channel.send('Channel Showen Successfully ! âœ…  ')
   }
  });
 
 
/// -members
 
 
client.on('message', message => {
                 if (!message.channel.guild) return;
         if(message.content =='-members')
         var kayan = new Discord.RichEmbed()
         .setThumbnail(message.author.avatarURL)
         .setFooter(message.author.username, message.author.avatarURL)
         .setTitle('ğŸŒ·| Members info')
         .addBlankField(true)
         .addField('ğŸ“—| Online',
         `${message.guild.members.filter(m=>m.presence.status == 'online').size}`)
         .addField('ğŸ“•| DND',`${message.guild.members.filter(m=>m.presence.status == 'dnd').size}`)
         .addField('ğŸ“™| Idle',`${message.guild.members.filter(m=>m.presence.status == 'idle').size}`)
         .addField('ğŸ““| Offline',`${message.guild.members.filter(m=>m.presence.status == 'offline').size}`)
         .addField('â¡| Server Members',`${message.guild.memberCount}`)
         message.channel.send(kayan);
       
       });
       
       /// Direct Welcoming  Ø¨Ø§Ù„Ø®Ø§Øµ
 
client.on("guildMemberAdd", member => {
  member.createDM().then(function (channel) {
  return channel.send(`:rose:  ÙˆÙ„ÙƒÙ… Ù†ÙˆØ±Øª Ø§Ù„Ø³ÙŠØ±ÙØ±:rose:
:crown:Ø§Ø³Ù… Ø§Ù„Ø¹Ø¶Ùˆ  ${member}:crown:  
Ø§Ù†Øª Ø§Ù„Ø¹Ø¶Ùˆ Ø±Ù‚Ù… ${member.guild.memberCount} `)
}).catch(console.error)
})
 
///// Voice online
 
client.on('message', async message => {
  if(message.content.startsWith(prefix + "voicesetup")) {
  if(!message.guild.member(message.author).hasPermissions('MANAGE_CHANNELS')) return message.reply('âŒ **Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„ÙƒØ§ÙÙŠØ©**');
  if(!message.guild.member(client.user).hasPermissions(['MANAGE_CHANNELS','MANAGE_ROLES_OR_PERMISSIONS'])) return message.reply('âŒ **Ù„ÙŠØ³ Ù…Ø¹ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„ÙƒØ§ÙÙŠØ©**');
  var args = message.content.split(' ').slice(1).join(' ');
  if(args && !args.includes(0)) return message.channel.send('â Â» ÙØ´Ù„ Ø§Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø±ÙˆÙ… Ø§Ù„ØµÙˆØªÙŠ .. __ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ ÙƒØªØ§Ø¨Ø© 0 ÙÙŠ Ø§Ø³Ù… Ø§Ù„Ø±ÙˆÙ…__');
  if(!args) args = `VoiceOnline: [ ${message.guild.members.filter(s => s.voiceChannel).size} ]`;
  message.channel.send('âœ… Â» ØªÙ… Ø¹Ù…Ù„ Ø§Ù„Ø±ÙˆÙ… Ø§Ù„ØµÙˆØªÙŠ Ø¨Ù†Ø¬Ø§Ø­');
  message.guild.createChannel(`${args.replace(0, message.guild.members.filter(s => s.voiceChannel).size)}`, 'voice').then(c => {
    c.overwritePermissions(message.guild.id, {
      CONNECT: false,
      SPEAK: false
    });
    setInterval(() => {
      c.setName(`${args.replace(0, message.guild.members.filter(s => s.voiceChannel).size)}`).catch(err => {
        if(err) return;
      });
    },3000);
  });
  }
});
//////data
client.on('ready',async () => {
setInterval(function(){
var currentTime = new Date(),
hours = currentTime.getHours() + 3 ,
ReBeeL = currentTime.getMinutes(),
ReBeeeL = currentTime.getSeconds(),
Codes = currentTime.getFullYear(),
CodeS = currentTime.getMonth() + 1,
CoDeS = currentTime.getDate()
if (ReBeeL < 10) {
ReBeeL = "0" + ReBeeL;
}
var suffix = "AM";
if (hours >= 12) {
suffix = "PM";
hours = hours - 12;
}
if (hours == 0) {
hours = 12;
}
client.channels.find('539783628599853056', '539783628599853056').setName(`Time - ${hours} : ${ReBeeL} : ${ReBeeeL} ${suffix}`) 
client.channels.find('539783682412773377', '539783682412773377').setName(`Date : ${Codes} - ${CodeS} - ${CoDeS}`)
}, 1000);
});
 
/////-Rainbow
 
client.on('message', message => {//new msg event
if(!message.channel.guild) return;
  if(message.content.startsWith(prefix + 'Rainbow')) {//to create the rainbow role
      let role = message.guild.roles.find('name', 'Condor')
    if(role) return message.channel.send(`This Step Already Completed !`)//if the role already created return with this msg
  //start of create role
  if(!role){
    rainbow =  message.guild.createRole({
   name: "Condor",//the role will create name
   color: "#000000",//the default color
   permissions:[]//the permissions
 //end of create role
})
 
}
message.channel.send('Done The Rainbow Role Setup Has Been Completed')//if the step completed
}})
 
client.on('ready', () => {//new ready event
  setInterval(function(){
      client.guilds.forEach(g => {
                  var role = g.roles.find('name', 'Condor');//rainbow role name
                  if (role) {
                      role.edit({color : "RANDOM"});
                  };
      });
  }, 5000);//the rainbow time
})
 
/////
//clearrole hack
 
const discord = new require("discord.js");
var config = {
  events: [
    {type: "CHANNEL_CREATE", logType: "CHANNEL_CREATE", limit: 3 , delay: 3000},
    {type: "CHANNEL_DELETE", logType: "CHANNEL_DELETE", limit: 4, delay: 3000},
    {type: "GUILD_MEMBER_REMOVE", logType: "MEMBER_KICK", limit: 2, delay: 3000},
    {type: "GUILD_BAN_ADD", logType: "MEMBER_BAN_ADD", limit: 1, delay: 3000}
  ]
}
client.on("raw", (packet)=> {
  let {t, d} = packet, type = t, {guild_id} = data = d || {};
  if (type === "READY") {
    client.startedTimestamp = new Date().getTime();
    client.captures = [];
  }
  let event = config.events.find(anEvent => anEvent.type === type);
  if (!event) return;
  let guild = client.guilds.get(guild_id);
  if (!guild) return;
  guild.fetchAuditLogs({limit : 1, type: event.logType})
    .then(eventAudit => {
      let eventLog = eventAudit.entries.first();
      if (!eventLog) return;
      let executor = eventLog.executor;
      guild.fetchAuditLogs({type: event.logType, user: executor})
        .then((userAudit, index) => {
          let uses = 0;
          userAudit.entries.map(entry => {
            if (entry.createdTimestamp > client.startedTimestamp && !client.captures.includes(entry.id)) uses += 1;
          });
          setTimeout(() => {
            client.captures.push(index);
          }, event.delay || 2000)
          if (uses >= event.limit) {
            client.emit("reachLimit", {
              user: userAudit.entries.first().executor,
              member: guild.members.get(executor.id),
              guild: guild,
              type: event.type,
            })
          }
        }).catch(console.error)
    }).catch(console.error)
});
client.on("reachLimit", (limit)=> {
  let log = limit.guild.channels.find( channel => channel.name === "log");
  log.send("<@"+limit.user.id+">\Ø­Ø§ÙˆÙ„ Ø§Ù„Ø¹Ø¨Ø« Ø¨Ø§Ù„Ø³ÙŠØ±ÙØ±");
  limit.guild.owner.send(limit.user.username+"\Ø­Ø§ÙˆÙ„ Ø§Ù„Ø¹Ø¨Ø« Ø¨Ø§Ù„Ø³ÙŠØ±ÙØ± ")
  limit.member.roles.map(role => {
    limit.member.removeRole(role.id)
    .catch(log.send)
  });
});
 
////Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ø´Ø®Ø§Øµ Ø§Ù„Ù…ÙˆØ¬Ø¯ÙŠÙ† Ø¨Ø§Ù„Ø±ÙˆÙ…Ø§Øª -voice
client.on('message' , message => {
if(message.content === '-voice') {
    message.channel.send(`**Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ø´Ø®Ø§Øµ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯ÙŠÙ† Ø¨Ù€  Ø§Ù„Ø±ÙˆÙ…Ø§Øª Ø§Ù„ØµÙˆØªÙŠÙ‡ : ${message.guild.members.filter(g => g.voiceChannel).size}**`);
}
});
 
////log  ÙŠØ´ØªØ±Ø· ÙˆØ¬ÙˆØ¯ Ø±ÙˆÙ… Ø¨Ø§Ø³Ù…
 
// Channels Log
client.on('channelCreate', channel => {
 
    if(!channel.guild) return;
    if(!channel.guild.member(client.user).hasPermission('EMBED_LINKS')) return;
    if(!channel.guild.member(client.user).hasPermission('VIEW_AUDIT_LOG')) return;
 
    var logChannel = channel.guild.channels.find(c => c.name === 'log');
    if(!logChannel) return;
 
    if(channel.type === 'text') {
        var roomType = 'Text';
    }else
    if(channel.type === 'voice') {
        var roomType = 'Voice';
    }else
    if(channel.type === 'category') {
        var roomType = 'Category';
    }
 
    channel.guild.fetchAuditLogs().then(logs => {
        var userID = logs.entries.first().executor.id;
        var userAvatar = logs.entries.first().executor.avatarURL;
 
        let channelCreate = new Discord.RichEmbed()
        .setTitle('**[CHANNEL CREATE]**')
        .setThumbnail(userAvatar)
        .setDescription(`**\n**:white_check_mark: Successfully \`\`CREATE\`\` **${roomType}** channel.\n\n**Channel Name:** \`\`${channel.name}\`\` (ID: ${channel.id})\n**By:** <@${userID}> (ID: ${userID})`)
        .setColor('GREEN')
        .setTimestamp()
        .setFooter(channel.guild.name, channel.guild.iconURL)
 
        logChannel.send(channelCreate);
    })
});
client.on('channelDelete', channel => {
    if(!channel.guild) return;
    if(!channel.guild.member(client.user).hasPermission('EMBED_LINKS')) return;
    if(!channel.guild.member(client.user).hasPermission('VIEW_AUDIT_LOG')) return;
 
    var logChannel = channel.guild.channels.find(c => c.name === 'log');
    if(!logChannel) return;
 
    if(channel.type === 'text') {
        var roomType = 'Text';
    }else
    if(channel.type === 'voice') {
        var roomType = 'Voice';
    }else
    if(channel.type === 'category') {
        var roomType = 'Category';
    }
 
    channel.guild.fetchAuditLogs().then(logs => {
        var userID = logs.entries.first().executor.id;
        var userAvatar = logs.entries.first().executor.avatarURL;
 
        let channelDelete = new Discord.RichEmbed()
        .setTitle('**[CHANNEL DELETE]**')
        .setThumbnail(userAvatar)
        .setDescription(`**\n**:white_check_mark: Successfully \`\`DELETE\`\` **${roomType}** channel.\n\n**Channel Name:** \`\`${channel.name}\`\` (ID: ${channel.id})\n**By:** <@${userID}> (ID: ${userID})`)
        .setColor('RED')
        .setTimestamp()
        .setFooter(channel.guild.name, channel.guild.iconURL)
 
        logChannel.send(channelDelete);
    })
});
client.on('channelUpdate', (oldChannel, newChannel) => {
    if(!oldChannel.guild) return;
 
    var logChannel = oldChannel.guild.channels.find(c => c.name === 'log');
    if(!logChannel) return;
 
    if(oldChannel.type === 'text') {
        var channelType = 'Text';
    }else
    if(oldChannel.type === 'voice') {
        var channelType = 'Voice';
    }else
    if(oldChannel.type === 'category') {
        var channelType = 'Category';
    }
 
    oldChannel.guild.fetchAuditLogs().then(logs => {
        var userID = logs.entries.first().executor.id;
        var userAvatar = logs.entries.first().executor.avatarURL;
 
        if(oldChannel.name !== newChannel.name) {
            let newName = new Discord.RichEmbed()
            .setTitle('**[CHANNEL EDIT]**')
            .setThumbnail(userAvatar)
            .setColor('BLUE')
            .setDescription(`**\n**:wrench: Successfully Edited **${channelType}** Channel Name\n\n**Old Name:** \`\`${oldChannel.name}\`\`\n**New Name:** \`\`${newChannel.name}\`\`\n**Channel ID:** ${oldChannel.id}\n**By:** <@${userID}> (ID: ${userID})`)
            .setTimestamp()
            .setFooter(oldChannel.guild.name, oldChannel.guild.iconURL)
 
            logChannel.send(newName);
        }
        if(oldChannel.topic !== newChannel.topic) {
            let newTopic = new Discord.RichEmbed()
            .setTitle('**[CHANNEL EDIT]**')
            .setThumbnail(userAvatar)
            .setColor('BLUE')
            .setDescription(`**\n**:wrench: Successfully Edited **${channelType}** Channel Topic\n\n**Old Topic:**\n\`\`\`${oldChannel.topic || 'NULL'}\`\`\`\n**New Topic:**\n\`\`\`${newChannel.topic || 'NULL'}\`\`\`\n**Channel:** ${oldChannel} (ID: ${oldChannel.id})\n**By:** <@${userID}> (ID: ${userID})`)
            .setTimestamp()
            .setFooter(oldChannel.guild.name, oldChannel.guild.iconURL)
 
            logChannel.send(newTopic);
        }
    })
});
 
 
// Guild Logs
client.on('guildBanAdd', (guild, user) => {
 
    if(!guild.member(client.user).hasPermission('EMBED_LINKS')) return;
    if(!guild.member(client.user).hasPermission('VIEW_AUDIT_LOG')) return;
 
    var logChannel = guild.channels.find(c => c.name === 'log');
    if(!logChannel) return;
 
    guild.fetchAuditLogs().then(logs => {
        var userID = logs.entries.first().executor.id;
        var userAvatar = logs.entries.first().executor.avatarURL;
 
        if(userID === client.user.id) return;
 
        let banInfo = new Discord.RichEmbed()
        .setTitle('**[BANNED]**')
        .setThumbnail(userAvatar)
        .setColor('DARK_RED')
        .setDescription(`**\n**:airplane: Successfully \`\`BANNED\`\` **${user.username}** From the server!\n\n**User:** <@${user.id}> (ID: ${user.id})\n**By:** <@${userID}> (ID: ${userID})`)
        .setTimestamp()
        .setFooter(guild.name, guild.iconURL)
 
        logChannel.send(banInfo);
    })
});
client.on('guildBanRemove', (guild, user) => {
    if(!guild.member(client.user).hasPermission('EMBED_LINKS')) return;
    if(!guild.member(client.user).hasPermission('VIEW_AUDIT_LOG')) return;
 
    var logChannel = guild.channels.find(c => c.name === 'log');
    if(!logChannel) return;
 
    guild.fetchAuditLogs().then(logs => {
        var userID = logs.entries.first().executor.id;
        var userAvatar = logs.entries.first().executor.avatarURL;
 
        let unBanInfo = new Discord.RichEmbed()
        .setTitle('**[UNBANNED]**')
        .setThumbnail(userAvatar)
        .setColor('GREEN')
        .setDescription(`**\n**:unlock: Successfully \`\`UNBANNED\`\` **${user.username}** From the server\n\n**User:** <@${user.id}> (ID: ${user.id})\n**By:** <@${userID}> (ID: ${userID})`)
        .setTimestamp()
        .setFooter(guild.name, guild.iconURL)
 
        logChannel.send(unBanInfo);
    })
});
client.on('guildUpdate', (oldGuild, newGuild) => {
 
    if(!oldGuild.member(client.user).hasPermission('EMBED_LINKS')) return;
    if(!oldGuild.member(client.user).hasPermission('VIEW_AUDIT_LOG')) return;
 
   
    if(!logChannel) return;
 
    oldGuild.fetchAuditLogs().then(logs => {
        var userID = logs.entries.first().executor.id;
        var userAvatar = logs.entries.first().executor.avatarURL;
 
        if(oldGuild.name !== newGuild.name) {
            let guildName = new Discord.RichEmbed()
            .setTitle('**[CHANGE GUILD NAME]**')
            .setThumbnail(userAvatar)
            .setColor('BLUE')
            .setDescription(`**\n**:white_check_mark: Successfully \`\`EDITED\`\` The guild name.\n\n**Old Name:** \`\`${oldGuild.name}\`\`\n**New Name:** \`\`${newGuild.name}\`\`\n**By:** <@${userID}> (ID: ${userID})`)
            .setTimestamp()
            .setFooter(newGuild.name, oldGuild.iconURL)
 
            logChannel.send(guildName)
        }
        if(oldGuild.region !== newGuild.region) {
            let guildRegion = new Discord.RichEmbed()
            .setTitle('**[CHANGE GUILD REGION]**')
            .setThumbnail(userAvatar)
            .setColor('BLUE')
            .setDescription(`**\n**:white_check_mark: Successfully \`\`EDITED\`\` The guild region.\n\n**Old Region:** ${oldGuild.region}\n**New Region:** ${newGuild.region}\n**By:** <@${userID}> (ID: ${userID})`)
            .setTimestamp()
            .setFooter(oldGuild.name, oldGuild.iconURL)
 
            logChannel.send(guildRegion);
        }
        if(oldGuild.verificationLevel !== newGuild.verificationLevel) {
            if(oldGuild.verificationLevel === 0) {
                var oldVerLvl = 'Very Easy';
            }else
            if(oldGuild.verificationLevel === 1) {
                var oldVerLvl = 'Easy';
            }else
            if(oldGuild.verificationLevel === 2) {
                var oldVerLvl = 'Medium';
            }else
            if(oldGuild.verificationLevel === 3) {
                var oldVerLvl = 'Hard';
            }else
            if(oldGuild.verificationLevel === 4) {
                var oldVerLvl = 'Very Hard';
            }
 
            if(newGuild.verificationLevel === 0) {
                var newVerLvl = 'Very Easy';
            }else
            if(newGuild.verificationLevel === 1) {
                var newVerLvl = 'Easy';
            }else
            if(newGuild.verificationLevel === 2) {
                var newVerLvl = 'Medium';
            }else
            if(newGuild.verificationLevel === 3) {
                var newVerLvl = 'Hard';
            }else
            if(newGuild.verificationLevel === 4) {
                var newVerLvl = 'Very Hard';
            }
 
            let verLog = new Discord.RichEmbed()
            .setTitle('**[GUILD VERIFICATION LEVEL CHANGE]**')
            .setThumbnail(userAvatar)
            .setColor('BLUE')
            .setDescription(`**\n**:white_check_mark: Successfully \`\`EDITED\`\` Guild verification level.\n\n**Old Verification Level:** ${oldVerLvl}\n**New Verification Level:** ${newVerLvl}\n**By:** <@${userID}> (ID: ${userID})`)
            .setTimestamp()
            .setFooter(oldGuild.name, oldGuild.iconURL)
 
            logChannel.send(verLog);
        }
    })
});
client.on('guildMemberUpdate', (oldMember, newMember) => {
    var logChannel = oldMember.guild.channels.find(c => c.name === 'log');
    if(!logChannel) return;
 
    oldMember.guild.fetchAuditLogs().then(logs => {
        var userID = logs.entries.first().executor.id;
        var userAvatar = logs.entries.first().executor.avatarURL;
        var userTag = logs.entries.first().executor.tag;
 
        if(oldMember.nickname !== newMember.nickname) {
            if(oldMember.nickname === null) {
                var oldNM = '\`\`Ø§Ø³Ù…Ù‡ Ø§Ù„Ø§ØµÙ„ÙŠ\`\`';
            }else {
                var oldNM = oldMember.nickname;
            }
            if(newMember.nickname === null) {
                var newNM = '\`\`Ø§Ø³Ù…Ù‡ Ø§Ù„Ø§ØµÙ„ÙŠ\`\`';
            }else {
                var newNM = newMember.nickname;
            }
 
            let updateNickname = new Discord.RichEmbed()
            .setTitle('**[UPDATE MEMBER NICKNAME]**')
            .setThumbnail(userAvatar)
            .setColor('BLUE')
            .setDescription(`**\n**:spy: Successfully \`\`CHANGE\`\` Member Nickname.\n\n**User:** ${oldMember} (ID: ${oldMember.id})\n**Old Nickname:** ${oldNM}\n**New Nickname:** ${newNM}\n**By:** <@${userID}> (ID: ${userID})`)
            .setTimestamp()
            .setFooter(oldMember.guild.name, oldMember.guild.iconURL)
 
            logChannel.send(updateNickname);
        }
        if(oldMember.roles.size < newMember.roles.size) {
            let role = newMember.roles.filter(r => !oldMember.roles.has(r.id)).first();
 
            let roleAdded = new Discord.RichEmbed()
            .setTitle('**[ADDED ROLE TO MEMBER]**')
            .setThumbnail(oldMember.guild.iconURL)
            .setColor('GREEN')
            .setDescription(`**\n**:white_check_mark: Successfully \`\`ADDED\`\` Role to **${oldMember.user.username}**\n\n**User:** <@${oldMember.id}> (ID: ${oldMember.user.id})\n**Role:** \`\`${role.name}\`\` (ID: ${role.id})\n**By:** <@${userID}> (ID: ${userID})`)
            .setTimestamp()
            .setFooter(userTag, userAvatar)
 
            logChannel.send(roleAdded);
        }
        if(oldMember.roles.size > newMember.roles.size) {
            let role = oldMember.roles.filter(r => !newMember.roles.has(r.id)).first();
 
            let roleRemoved = new Discord.RichEmbed()
            .setTitle('**[REMOVED ROLE FROM MEMBER]**')
            .setThumbnail(oldMember.guild.iconURL)
            .setColor('RED')
            .setDescription(`**\n**:negative_squared_cross_mark: Successfully \`\`REMOVED\`\` Role from **${oldMember.user.username}**\n\n**User:** <@${oldMember.user.id}> (ID: ${oldMember.id})\n**Role:** \`\`${role.name}\`\` (ID: ${role.id})\n**By:** <@${userID}> (ID: ${userID})`)
            .setTimestamp()
            .setFooter(userTag, userAvatar)
 
            logChannel.send(roleRemoved);
        }
    })
    if(oldMember.guild.owner.user.id !== newMember.guild.owner.user.id) {
        let newOwner = new Discord.RichEmbed()
        .setTitle('**[UPDATE GUILD OWNER]**')
        .setThumbnail(oldMember.guild.iconURL)
        .setColor('GREEN')
        .setDescription(`**\n**:white_check_mark: Successfully \`\`TRANSFER\`\` The Owner Ship.\n\n**Old Owner:** <@${oldMember.user.id}> (ID: ${oldMember.user.id})\n**New Owner:** <@${newMember.user.id}> (ID: ${newMember.user.id})`)
        .setTimestamp()
        .setFooter(oldMember.guild.name, oldMember.guild.iconURL)
 
        logChannel.send(newOwner);
    }
});
client.on('guildMemberAdd', member => {
  var logChannel = member.guild.channels.find(c => c.name === 'log');
  if(!logChannel) return;
 
  let newMember = new Discord.RichEmbed()
  .setTitle('**[NEW MEMBER ADDED]**')
  .setThumbnail(member.user.avatarURL)
  .setColor('GREEN')
  .setDescription(`**\n**:arrow_lower_right: Joined **${member.user.username}** To the server!\n\n**User:** <@${member.user.id}> (ID: ${member.user.id})\n**Days In Discord:** ${Days(member.user.createdAt)}`)
  .setTimestamp()
  .setFooter(member.user.tag, member.user.avatarURL)
 
  logChannel.send(newMember);
});
function Days(date) {
    let now = new Date();
    let diff = now.getTime() - date.getTime();
    let days = Math.floor(diff / 86400000);
    return days + (days == 1 ? " day" : " days") + " ago";
}
client.on('guildMemberRemove', member => {
  var logChannel = member.guild.channels.find(c => c.name === 'log');
  if(!logChannel) return;
 
  let leaveMember = new Discord.RichEmbed()
  .setTitle('**[LEAVE MEMBER]**')
  .setThumbnail(member.user.avatarURL)
  .setColor('GREEN')
  .setDescription(`**\n**:arrow_upper_left: Leave **${member.user.username}** From the server.\n\n**User:** <@${member.user.id}> (ID: ${member.user.id})`)
  .setTimestamp()
  .setFooter(member.user.tag, member.user.avatarURL)
 
  logChannel.send(leaveMember);
});
 
 
// Voice Logs
client.on('voiceStateUpdate', (voiceOld, voiceNew) => {
 
    if(!voiceOld.guild.member(client.user).hasPermission('EMBED_LINKS')) return;
    if(!voiceOld.guild.member(client.user).hasPermission('VIEW_AUDIT_LOG')) return;
 
    var logChannel = voiceOld.guild.channels.find(c => c.name === 'log');
    if(!logChannel) return;
 
    voiceOld.guild.fetchAuditLogs().then(logs => {
        var userID = logs.entries.first().executor.id;
        var userTag = logs.entries.first().executor.tag;
        var userAvatar = logs.entries.first().executor.avatarURL;
 
// Server Muted Voice
        if(voiceOld.serverMute === false && voiceNew.serverMute === true) {
            let serverMutev = new Discord.RichEmbed()
            .setTitle('**[VOICE MUTE]**')
            .setThumbnail('https://images-ext-1.discordapp.net/external/pWQaw076OHwVIFZyeFoLXvweo0T_fDz6U5C9RBlw_fQ/https/cdn.pg.sa/UosmjqDNgS.png')
            .setColor('RED')
            .setDescription(`**User:** <@${voiceOld.user.id}> (ID: ${voiceOld.user.id})\n**By:** <@${userID}> (ID: ${userID})\n**Channel:** \`\`${voiceOld.voiceChannel.name}\`\` (ID: ${voiceOld.voiceChannel.id})`)
            .setTimestamp()
            .setFooter(userTag, userAvatar)
 
            logChannel.send(serverMutev);
        }
// Server UnMuted Voice
        if(voiceOld.serverMute === true && voiceNew.serverMute === false) {
            let serverUnmutev = new Discord.RichEmbed()
            .setTitle('**[VOICE UNMUTE]**')
            .setThumbnail('https://images-ext-1.discordapp.net/external/u2JNOTOc1IVJGEb1uCKRdQHXIj5-r8aHa3tSap6SjqM/https/cdn.pg.sa/Iy4t8H4T7n.png')
            .setColor('GREEN')
            .setDescription(`**User:** <@${voiceOld.user.id}> (ID: ${voiceOld.user.id})\n**By:** <@${userID}> (ID: ${userID})\n**Channel:** \`\`${voiceOld.voiceChannel.name}\`\` (ID: ${voiceOld.voiceChannel.id})`)
            .setTimestamp()
            .setFooter(userTag, userAvatar)
 
            logChannel.send(serverUnmutev);
        }
// Server Deafen Voice
        if(voiceOld.serverDeaf === false && voiceNew.serverDeaf === true) {
            let serverDeafv = new Discord.RichEmbed()
            .setTitle('**[VOICE DEAFEN]**')
            .setThumbnail('https://images-ext-1.discordapp.net/external/7ENt2ldbD-3L3wRoDBhKHb9FfImkjFxYR6DbLYRjhjA/https/cdn.pg.sa/auWd5b95AV.png')
            .setColor('RED')
            .setDescription(`**User:** <@${voiceOld.user.id}> (ID: ${voiceOld.user.id})\n**By:** <@${userID}> (ID: ${userID})\n**Channel:** \`\`${voiceOld.voiceChannel.name}\`\` (ID: ${voiceOld.voiceChannel.id})`)
            .setTimestamp()
            .setFooter(userTag, userAvatar)
 
            logChannel.send(serverDeafv);
        }
// Server UnDeafen Voice
        if(voiceOld.serverDeaf === true && voiceNew.serverDeaf === false) {
            let serverUndeafv = new Discord.RichEmbed()
            .setTitle('**[VOICE UNDEAFEN]**')
            .setThumbnail('https://images-ext-2.discordapp.net/external/s_abcfAlNdxl3uYVXnA2evSKBTpU6Ou3oimkejx3fiQ/https/cdn.pg.sa/i7fC8qnbRF.png')
            .setColor('GREEN')
            .setDescription(`**User:** <@${voiceOld.user.id}> (ID: ${voiceOld.user.id})\n**By:** <@${userID}> (ID: ${userID})\n**Channel:** \`\`${voiceOld.voiceChannel.name}\`\` (ID: ${voiceOld.voiceChannel.id})`)
            .setTimestamp()
            .setFooter(userTag, userAvatar)
 
            logChannel.send(serverUndeafv);
        }
    })
// Join Voice Channel
    if(voiceOld.voiceChannelID !== voiceNew.voiceChannelID && !voiceOld.voiceChannel) {
        let voiceJoin = new Discord.RichEmbed()
        .setTitle('**[JOIN VOICE ROOM]**')
        .setColor('GREEN')
        .setThumbnail(voiceOld.user.avatarURL)
        .setDescription(`**\n**:arrow_lower_right: Successfully \`\`JOIN\`\` To Voice Channel.\n\n**Channel:** \`\`${voiceNew.voiceChannel.name}\`\` (ID: ${voiceNew.voiceChannelID})\n**User:** ${voiceOld} (ID: ${voiceOld.id})`)
        .setTimestamp()
        .setFooter(voiceOld.user.tag, voiceOld.user.avatarURL)
 
        logChannel.send(voiceJoin);
    }
// Leave Voice Channel
    if(voiceOld.voiceChannelID !== voiceNew.voiceChannelID && !voiceNew.voiceChannel) {
        let voiceLeave = new Discord.RichEmbed()
        .setTitle('**[LEAVE VOICE ROOM]**')
        .setColor('GREEN')
        .setThumbnail(voiceOld.user.avatarURL)
        .setDescription(`**\n**:arrow_upper_left: Successfully \`\`LEAVE\`\` From Voice Channel.\n\n**Channel:** \`\`${voiceOld.voiceChannel.name}\`\` (ID: ${voiceOld.voiceChannelID})\n**User:** ${voiceOld} (ID: ${voiceOld.id})`)
        .setTimestamp()
        .setFooter(voiceOld.user.tag, voiceOld.user.avatarURL)
 
        logChannel.send(voiceLeave);
    }
// Changed Voice Channel
    if(voiceOld.voiceChannelID !== voiceNew.voiceChannelID && voiceNew.voiceChannel && voiceOld.voiceChannel != null) {
        let voiceLeave = new Discord.RichEmbed()
        .setTitle('**[CHANGED VOICE ROOM]**')
        .setColor('GREEN')
        .setThumbnail(voiceOld.user.avatarURL)
        .setDescription(`**\n**:repeat: Successfully \`\`CHANGED\`\` The Voice Channel.\n\n**From:** \`\`${voiceOld.voiceChannel.name}\`\` (ID: ${voiceOld.voiceChannelID})\n**To:** \`\`${voiceNew.voiceChannel.name}\`\` (ID: ${voiceNew.voiceChannelID})\n**User:** ${voiceOld} (ID: ${voiceOld.id})`)
        .setTimestamp()
        .setFooter(voiceOld.user.tag, voiceOld.user.avatarURL)
 
        logChannel.send(voiceLeave);
    }
});
 
  client.on('message',async message => {
    if(message.content.startsWith(prefix + "setCount")) {
    if(!message.guild.member(message.author).hasPermissions('MANAGE_CHANNELS')) return message.reply('âŒ **Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„ÙƒØ§ÙÙŠØ©**');
    if(!message.guild.member(client.user).hasPermissions(['MANAGE_CHANNELS','MANAGE_ROLES_OR_PERMISSIONS'])) return message.reply('âŒ **Ù„ÙŠØ³ Ù…Ø¹ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„ï¿½ï¿½Ø§ÙÙŠØ©**');
    message.channel.send('âœ…| **ØªÙ… Ø¹Ù…Ù„ Ø§Ù„Ø±ÙˆÙ… Ø¨Ù†Ø¬Ø§Ø­**');
    message.guild.createChannel(`Members Count : [ ${message.guild.members.size} ]` , 'voice').then(c => {
      console.log(`Count Members channel setup for guild: \n ${message.guild.name}`);
      c.overwritePermissions(message.guild.id, {
        CONNECT: false,
        SPEAK: false
      });
      setInterval(function() {
        c.setName(`Members Count : [ ${message.guild.members.size} ]`)
      },1000);
    });
    }
  });
 
/// Ø§ÙˆØ§Ù…Ø± Ø§Ù„Ø§ÙˆÙ†Ø±
 
const adminprefix = "-";
const devs = ['512625982751113216'];
client.on('message', message => {
  var argresult = message.content.split(` `).slice(1).join(' ');
    if (!devs.includes(message.author.id)) return;
   
if (message.content.startsWith(adminprefix + 'setgame')) {
  client.user.setGame(argresult);
    message.channel.sendMessage(`**${argresult} ØªÙ… ØªØºÙŠÙŠØ± Ø¨Ù„Ø§ÙŠÙ†Ù‚ Ø§Ù„Ø¨ÙˆØª Ø¥Ù„Ù‰ **`)
} else
  if (message.content.startsWith(adminprefix + 'setname')) {
client.user.setUsername(argresult).then
    message.channel.sendMessage(`**${argresult}** : ØªÙ… ØªØºÙŠÙŠØ± Ø£Ø³Ù… Ø§Ù„Ø¨ÙˆØª Ø¥Ù„Ù‰`)
return message.reply("**Ù„Ø§ ÙŠÙ…ÙƒÙ†Ùƒ ØªØºÙŠÙŠØ± Ø§Ù„Ø§Ø³Ù… ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ Ø§Ù„Ø§Ù†ØªØ¸Ø¢Ø± Ù„Ù…Ø¯Ø© Ø³Ø§Ø¹ØªÙŠÙ† . **");
} else
  if (message.content.startsWith(adminprefix + 'setavatar')) {
client.user.setAvatar(argresult);
  message.channel.sendMessage(`**${argresult}** : ØªÙ… ØªØºÙŠØ± ØµÙˆØ±Ø© Ø§Ù„Ø¨ÙˆØª`);
      } else    
if (message.content.startsWith(adminprefix + 'setT')) {
  client.user.setGame(argresult, "https://www.twitch.tv/idk");
    message.channel.sendMessage(`**ØªÙ… ØªØºÙŠÙŠØ± ØªÙˆÙŠØªØ´ Ø§Ù„Ø¨ÙˆØª Ø¥Ù„Ù‰  ${argresult}**`)
}
});

var prefix = "-"
client.on('message', message => {

  if (message.author.bot) return;
  if (!message.content.startsWith(prefix)) return;
// By JÃ keY#2019 And Toxic Codes
  let command = message.content.split(" ")[0];
  command = command.slice(prefix.length);
// By JÃ keY#2019 And Toxic Codes
  let args = message.content.split(" ").slice(1);
// By JÃ keY#2019 And Toxic Codes
  if (command == "say") {
  if (message.member.id !== "512625982751113216") return message.channel.send('**Ù„Ø§ Ø­Ø¨ÙŠ Ù…Ø§ ÙŠØµÙŠØ± Ù‡ÙŠÙƒ ğŸ˜‚ , [Protector Bot] **');// By JÃ keY#2019 And Toxic Codes
   message.channel.send(args.join("  "))// By JÃ keY#2019 And Toxic Codes
   message.delete()// By JÃ keY#2019 And Toxic Codes
  }
 });

var stopReacord = true;
var reactionRoles = [];
var definedReactionRole = null;
 
client.on("message", async message => {
    const args = message.content.slice(prefix.length).trim().split(/ +/g);
    const command = args.shift().toLowerCase();
    if(message.author.bot) return;
    if(message.content.indexOf(prefix) !== 0) return;
    if (command == "autoc") {
      if(!message.channel.guild) return message.reply(`**Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø± __Ù„Ù„Ø³ÙŠØ±ÙØ±Ø§Øª ÙÙ‚Ø·__**`);
      if(!message.member.hasPermission("ADMINISTRATOR")) return message.channel.send("Ø§Ù†Øª Ù„Ø§ ØªØ³Ø·ÙŠØªØ¹ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ø§Ù…Ø±");
      if(!args[0] || args[1]) return message.channel.send(`${prefix}autoc <role-name>`);
      var role = message.guild.roles.find( role => { return role.name == args[0] });
      if(!role) return message.channel.send(`**Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø±ØªØ¨Ø© Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø§Ø³Ù… , ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ù‡Ø°Ù‡ Ø§Ù„Ø±ØªØ¨Ø©`);
      if(definedReactionRole != null  || !stopReacord) return message.channel.send("Ù‡Ø°Ø§ Ø§Ù„Ø§Ù…Ø± ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù…Ø© Ø§Ù„Ø§Ù† Ø§Ù†ØªØ¸Ø±...");
      message.channel.send(`Ø§Ù„Ø§Ù† Ø§Ø¶Ù Ø±ÙŠØ§ÙƒØ´Ù† Ù„Ù„Ø±Ø³Ø§ÙŠÙ„ ÙŠÙ„ÙŠ Ø¨Ø¯Ùƒ ØªØ¹Ø·ÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ø±ØªØ¨Ø© ${role.name}`);
      definedReactionRole = role;
      stopReacord = false;
    }    
})
client.on('raw', raw => {
  if (!['MESSAGE_REACTION_ADD', 'MESSAGE_REACTION_REMOVE'].includes(raw.t)) return;
  var channel = client.channels.get(raw.d.channel_id);
  if (channel.messages.has(raw.d.message_id)) return;
  channel.fetchMessage(raw.d.message_id).then(message => {
    var reaction = message.reactions.get( (raw.d.emoji.id ? `${raw.d.emoji.name}:${raw.d.emoji.id}` : raw.d.emoji.name) );
    if (raw.t === 'MESSAGE_REACTION_ADD') return client.emit('messageReactionAdd', reaction, client.users.get(raw.d.user_id));
    if (raw.t === 'MESSAGE_REACTION_REMOVE') return client.emit('messageReactionRemove', reaction, client.users.get(raw.d.user_id));
  });
});
client.on('messageReactionAdd', (reaction, user) => {
    if(user.id == client.user.id) return;
    if(!stopReacord) {
      var done = false;
      reactionRoles[reaction.message.id] = { role: definedReactionRole, message_id: reaction.message.id, emoji: reaction.emoji};
      stopReacord =  true;
      definedReactionRole = null;
      reaction.message.react(reaction.emoji.name)
      .catch(err => {done = true; reaction.message.channel.send(`Ø§Ø³Ù ÙˆÙ„Ø§ÙƒÙ† Ù„Ø§ Ø§Ø³Ø·ØªÙŠØ¹ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ø§ Ø§Ù„Ø§ÙŠÙ…ÙˆØ¬ÙŠ  ÙˆÙ„Ø§ÙƒÙ† ØªÙ…,Ø§ÙŠ Ø§Ø­Ø¯ ÙŠØ¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø§ÙŠÙ…ÙˆØ¬ÙŠ Ø³ÙŠØ£Ø®Ø° Ø§Ù„Ø±ØªØ¨Ø©`)})
      if(done) reaction.remove(user);
    } else {
      var request = reactionRoles[reaction.message.id];
      if(!request) return;
      if(request.emoji.name != reaction.emoji.name) return reaction.remove(user);
      reaction.message.guild.members.get(user.id).addRole(request.role);
    }
})
client.on('messageReactionRemove', (reaction, user) => {
  if(user.id == client.user.id) return;
  if(!stopReacord) return;
  let request = reactionRoles[reaction.message.id];
  if(!request) return;
  reaction.message.guild.members.get(user.id).removeRole(request.role);
});


 
const convert = require("hh-mm-ss")
const dateFormat = require('dateformat');
const fs = require('fs');
const pretty = require('pretty-ms');
const rn = require('random-number');
const Canvas = require('canvas')
const jimp = require('jimp')
const sql = require('sqlite')
const ytdl = require("ytdl-core");
let done = {};
const premium = ['512625982751113216','512625982751113216'] ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001



const sWlc = {} ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
client.on('message', message => { ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
var prefix = "-"; ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
if(message.channel.type === "dm") return; ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
if(message.author.bot) return; ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001 
  if(!sWlc[message.guild.id]) sWlc[message.guild.id] = { ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001 
    channel: "welcome" ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
}
const channel = sWlc[message.guild.id].channel ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
  if (message.content.startsWith(prefix + "setwelcomer")) { ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001 
    if(!message.member.hasPermission(`MANAGE_GUILD`)) return; ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001 
    let newChannel = message.content.split(' ').slice(1).join(" ") ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001 
    if(!newChannel) return message.reply(`**${prefix}setwelcomer <channel name>**`) ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
    sWlc[message.guild.id].channel = newChannel ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
    message.channel.send(`**${message.guild.name}'s channel has been changed to ${newChannel}**`); ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
  }
});
 


client.on("guildMemberAdd", member => {
      if(!sWlc[member.guild.id]) sWlc[member.guild.id] = { ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
    channel: "welcome"
  }
  const channel = sWlc[member.guild.id].channel ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
    const sChannel = sWlc[member.guild.id].channel ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
    let welcomer = member.guild.channels.find('name', sChannel); ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
    let memberavatar = member.user.avatarURL
      if (!welcomer) return; ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
      if(welcomer) {
         moment.locale('ar-ly'); ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
         var h = member.user;
        let heroo = new Discord.RichEmbed() ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
        .setColor('RANDOM') ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
        .setThumbnail(h.avatarURL) ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
        .setAuthor(h.username,h.avatarURL) ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
        .addField(': ØªØ§Ø±ÙŠØ® Ø¯Ø®ÙˆÙ„Ùƒ Ø§Ù„Ø¯Ø³ÙƒÙˆØ±Ø¯',`${moment(member.user.createdAt).format('D/M/YYYY h:mm a')} **\n** \`${moment(member.user.createdAt).fromNow()}\``,true)            
         .addField(': ØªØ§Ø±ÙŠØ® Ø¯Ø®ÙˆÙ„Ùƒ Ø§Ù„Ø³ÙŠØ±ÙØ±',`${moment(member.joinedAt).format('D/M/YYYY h:mm a ')} \n\`\`${moment(member.joinedAt).startOf(' ').fromNow()}\`\``, true)      
         .setFooter(`${h.tag}`,"https://images-ext-2.discordapp.net/external/JpyzxW2wMRG2874gSTdNTpC_q9AHl8x8V4SMmtRtlVk/https/orcid.org/sites/default/files/files/ID_symbol_B-W_128x128.gif")
     welcomer.send({embed:heroo});          
         
      var Canvas = require('canvas')
      var jimp = require('jimp')
      
      const w = ['quickbotwelcome.png'];
      
              let Image = Canvas.Image,
                  canvas = new Canvas(557, 241), ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
                  ctx = canvas.getContext('2d'); ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
  
              fs.readFile(`${w[Math.floor(Math.random() * w.length)]}`, function (err, Background) {
                  if (err) return console.log(err)
                  let BG = Canvas.Image;
                  let ground = new Image;
                  ground.src = Background;
                  ctx.drawImage(ground, 0, 0, 557, 241); ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
      
      })
      
                      let url = member.user.displayAvatarURL.endsWith(".webp") ? member.user.displayAvatarURL.slice(5, -20) + ".gif" : member.user.displayAvatarURL;
                      jimp.read(url, (err, ava) => {
                          if (err) return console.log(err); ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
                          ava.getBuffer(jimp.MIME_PNG, (err, buf) => { ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
                              if (err) return console.log(err); ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
      
                                    ctx.font = '30px Arial Bold'; ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
                              ctx.fontSize = '20px'; ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
                              ctx.fillStyle = "#FFFFFF"; ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001 
                                ctx.fillText(member.user.username, 245, 150); ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
                              
                              //NAMEÙ‹
                              ctx.font = '30px Arial'; ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
                              ctx.fontSize = '28px';
                              ctx.fillStyle = "#FFFFFF";
      ctx.fillText(`You're In ${member.guild.name}`, 245, 80); ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
      
                              //AVATARÙ‹
                              let Avatar = Canvas.Image;
                              let ava = new Avatar;
                              ava.src = buf;
                              ctx.beginPath();
                 ctx.arc(120.8, 120.5, 112.3, 0, Math.PI*2, true); ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
                   ctx.closePath();
                   
                                 ctx.clip(); ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001

                        ctx.drawImage(ava, 7, 8, 227, 225); ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
                              ctx.closePath();

                            
    welcomer.sendFile(canvas.toBuffer())
      
      
      
      })
      }) ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
      
      }
      });



















const welcome = JSON.parse(fs.readFileSync('./welcomer.json' , 'utf8'));
client.on('message', async message => {
    let messageArray = message.content.split(" "); ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
   if(message.content.startsWith(prefix + "setleave")) { ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
             
    let filter = m => m.author.id === message.author.id; ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
    let thisMessage;
    let thisFalse; ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
 
    if(!message.member.hasPermission("MANAGE_GUILD")) return message.channel.send('You don\'t have permission').then(msg => {
       msg.delete(4500);
       message.delete(4500); 
    });
    
    message.channel.send(':pencil: **| Ù…Ù† ÙØ¶Ù„Ùƒ Ø§ÙƒØªØ¨ Ø§Ù„Ø±Ø³Ø§Ù„Ù‡ Ø§Ù„Ø§Ù†... :pencil2: **').then(msg => {

        message.channel.awaitMessages(filter, { ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
          max: 1,
          time: 90000,
          errors: ['time']
        }) ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001 
        .then(collected => {
            collected.first().delete();
            thisMessage = collected.first().content; ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
            let boi;
            msg.edit(':scroll: **| Ø§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„Ø±ÙˆÙ… Ø§Ù„Ø§Ù†... :pencil2: **').then(msg => {
      
                message.channel.awaitMessages(filter, {
                  max: 1,
                  time: 90000,
                  errors: ['time']
                })
                .then(collected => { ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
                    collected.first().delete(); ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
                    boi = collected.first().content; ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
                    msg.edit('âœ… **| ØªÙ… Ø§Ù„Ø§Ø¹Ø¯Ø§Ø¯ Ø¨Ù†Ø¬Ø§Ø­...  **').then(msg => { ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
        
                      message.channel.awaitMessages(filter, {
                        max: 1,
                        time: 90000,
                        errors: ['time']
                      })
                      let embed = new Discord.RichEmbed() ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
                      .setTitle('**Done The Leave Msg Code Has Been Setup**')
                      .addField('Message:', `${thisMessage}`) ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
                      .addField('Channel:', `${boi}`) ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
                      .setThumbnail(message.author.avatarURL)
                      .setFooter(`${client.user.username}`)
                     message.channel.sendEmbed(embed)
    welcome[message.guild.id] = {
leavechannel: boi,
leavemsg: thisMessage, ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
onoff: 'On',
leave: 'On' ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
    }
    fs.writeFile("./welcomer.json", JSON.stringify(welcome), (err) => { ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
    if (err) console.error(err)
  })
   } 
            )
        })
    }) ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
})
    })
}})


      client.on("guildMemberRemove", member => { ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
            if(!welcome[member.guild.id]) welcome[member.guild.id] = {
          onoff: 'On',
          leave: 'Off'
        }
        
        if(welcome[member.guild.id].onoff === 'Off') return;
                if(welcome[member.guild.id].leave === 'Off') return;
    let welcomer = member.guild.channels.find('name', `${welcome[member.guild.id].leavechannel}`)
    if(!welcomer) return;
     welcomer.send(`${member} ${welcome[member.guild.id].leavemsg}`); ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
      })     ///////// Mal , Galal  ///// -MÃ¡l ,Ï»Î¬ğ”¥ğ”ªğ”¬ğ”²ğ““-QuaStyleâ‰½Ü«â‰¼#0001
/////By Me
const invites = {};

const wait = require('util').promisify(setTimeout);

client.on('ready', () => {
  wait(1000);

  client.guilds.forEach(g => {
    g.fetchInvites().then(guildInvites => {
      invites[g.id] = guildInvites;
    });
  });
});

client.on('guildMemberAdd', member => {
  member.guild.fetchInvites().then(guildInvites => {
    const ei = invites[member.guild.id];
    invites[member.guild.id] = guildInvites;
    const invite = guildInvites.find(i => ei.get(i.code).uses < i.uses);
    const inviter = client.users.get(invite.inviter.id);
    const logChannel = member.guild.channels.find(channel => channel.name === "welcome");
    logChannel.send(`${member} Invited by: <@${inviter.id}>`);
  });
});
 
 

 
let antibots = JSON.parse(fs.readFileSync('./antibots.json' , 'utf8'));//require antihack.json file
client.on('message', message => {
    if(message.content.startsWith(prefix + "antibots on")) {
        if(!message.channel.guild) return message.reply('**This Command Only For Servers**');
        if(!message.member.hasPermission('ADMINISTRATOR')) return message.channel.send('**Sorry But You Dont Have Permission** `ADMINISTRATOR`' );
antibots[message.guild.id] = {
onoff: 'On',
}
message.channel.send(`**âœ… The AntiBots Is __ğğ__ !**`)
          fs.writeFile("./antibots.json", JSON.stringify(antibots), (err) => {
            if (err) console.error(err)
            .catch(err => {
              console.error(err);
          });
            });
          }
 
        })
 
 
 
client.on('message', message => {
    if(message.content.startsWith(prefix + "antibots off")) {
        if(!message.channel.guild) return message.reply('**This Command Only For Servers**');
        if(!message.member.hasPermission('ADMINISTRATOR')) return message.channel.send('**Sorry But You Dont Have Permission** `ADMINISTRATOR`' );
antibots[message.guild.id] = {
onoff: 'Off',
}
message.channel.send(`**â›” The AntiBots Is __ğğ…ğ…__ !**`)
          fs.writeFile("./antibots.json", JSON.stringify(antibots), (err) => {
            if (err) console.error(err)
            .catch(err => {
              console.error(err);
          });
            });
          }
 
        })
 
client.on("guildMemberAdd", member => {
  if(!antibots[member.guild.id]) antibots[member.guild.id] = {
onoff: 'Off'
}
  if(antibots[member.guild.id].onoff === 'Off') return;
if(member.user.bot) return member.kick()
})
 
fs.writeFile("./antibots.json", JSON.stringify(antibots), (err) => {
if (err) console.error(err)
.catch(err => {
console.error(err);
});
 
})
 
 
client.login(process.env.BOT_TOKEN);
